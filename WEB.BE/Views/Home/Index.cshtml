@model WEB.BE.Models.ViewModel.HomeProductVM
@using PagedList.Mvc;

@{
    ViewBag.Title = "Trang chủ - MyStore";
    Layout = "~/Views/Shared/_Layout.cshtml";

    // Gán Model.SearchTerm vào ViewBag.CurrentFilter
    ViewBag.CurrentFilter = Model?.SearchTerm;
}

<div class="text-center mb-4">
    @* Banner/Hình ảnh *@
    <img src="https://ekosnegocios.com/image/posts/May2022/DtRf9U2W4zcu1TYWfjpP.jpg"
         alt="Banner MyStore"
         class="img-fluid rounded shadow-sm"
         style="width:100%; max-height:400px; object-fit:cover;" />
</div>

@* FORM TÌM KIẾM (ĐÃ LOẠI BỎ CĂN GIỮA) *@
@* KHÔNG CÓ DIV FLEXBOX BAO NGOÀI NÀO NỮA *@
@using (Html.BeginForm("Index", "Home", FormMethod.Get))
{
    @* Sử dụng w-50 mx-auto để nó nằm ở giữa 50% hoặc căn trái theo mặc định *@
    <div class="input-group mb-5 w-50 mx-auto">
        <input type="text"
               name="searchTerm"
               value="@Model.SearchTerm"
               class="form-control"
               placeholder="Nhập tên sản phẩm hoặc mô tả..." />
        <button class="btn btn-primary" type="submit">Tìm kiếm</button>
    </div>
}

<div class="container all-products-container">

    @* 🌟 PHẦN SẢN PHẨM NỔI BẬT *@
    @if (Model.FeaturedProducts != null && Model.FeaturedProducts.Any())
    {
        <h3>Sản phẩm nổi bật</h3>
        @Html.Partial("_PVFeatureProduct", Model.FeaturedProducts)
    }

    <hr class="mt-5" />

    @* 🆕 PHẦN SẢN PHẨM MỚI *@
    <h3>Danh sách sản phẩm</h3>
    @Html.Partial("_PVNewProduct", Model)
</div>

@section Scripts {
    @* Đảm bảo các script của bạn được tải *@
}